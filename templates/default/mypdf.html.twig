{% block stylesheets %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css" integrity="sha512-/zs32ZEJh+/EO2N1b0PEdoA10JkdC3zJ8L5FTiQu82LR9S/rOQNfQN7U59U9BC12swNeRAz3HSzIL2vpp4fv3w==" crossorigin="anonymous">
{% endblock %}

{% block main %}
    <!DOCTYPE html>
    <html lang="fr">
    <head>
        <title>List campaign</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css" integrity="sha512-/zs32ZEJh+/EO2N1b0PEdoA10JkdC3zJ8L5FTiQu82LR9S/rOQNfQN7U59U9BC12swNeRAz3HSzIL2vpp4fv3w==" crossorigin="anonymous">

    <body>
    <div class="container" style="align-items: center; display: flex; justify-content: center">
        <button id="show_allmycampaign">List all my campaigns</button>
        <button id="show_my_campaign_soon">My campaigns soon</button>
        <button id="show_my_campaign_finish">My campaigns finish</button>
    </div>
    <div class="container">
        <a href="pdf">pdf</a>
        <h2 style="text-align:center;">Nombres total de campagnes : {{ mycampaignscount }}</h2>
        <canvas id="campaigns" width="400" height="100"></canvas>
        <br>
        <canvas id="campaignsbar" width="400" height="100"></canvas>
        <br>
        <h5 style="text-align:center;">Nombres de personnnes souscrit et validée pour la campagne</h5>
        <canvas id="nbpersons" width="400" height="100"></canvas>
        <br>
        <h5 style="text-align:center;">Nombre de testeurs par produit</h5>
        <canvas id="testeursproduct" width="400" height="100"></canvas>
    </div>

{#    <div id="allmycampaigns" style="position: absolute; width: 100%; display: flex">#}
{#        #}{#        {% dump(sql) %}#}
{#        {% dump statusnom %}#}
{#        {% for detail in details %}#}
{#            {% dump(detail) %}#}
{#        {% endfor %}#}
{#    </div>#}

    </body>
    </html>
{#    {% block javascripts %}#}
{#        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg==" crossorigin="anonymous"></script>#}
{#        <script>#}
{#            let categories = document.querySelector("#campaigns")#}
{#            let categGraph = new Chart(categories, {#}
{#                type: "doughnut",#}
{#                data: {#}
{#                    // labels: ["ju", "ni"],#}
{#                    labels: {{ statusnom|raw }},#}
{#                    datasets: [{#}
{#                        label: "Répartition des catégories",#}
{#                        // data: [1,2],#}
{#                        data: {{ details|raw }},#}
{#                        #}{#backgroundColor: {{ categColor|raw }}#}
{#                        backgroundColor: ["#6a5acd7a", "#f1cbc8", "#bfd0bd"]#}
{#                    }]#}
{#                }#}
{#            })#}

{#            let campaignsbar = document.querySelector("#campaignsbar")#}
{#            let barGraph = new Chart(campaignsbar, {#}
{#                type: "line",#}
{#                data: {#}
{#                    labels: {{ statusnom|raw }},#}
{#                    datasets: [{#}
{#                        label: "Nombre d'annonces",#}
{#                        data: {{ details|raw }},#}
{#                    }]#}
{#                },#}
{#                options: {#}
{#                    scales: {#}
{#                        yAxes: [{#}
{#                            ticks: {#}
{#                                beginAtZero: true#}
{#                            }#}
{#                        }]#}
{#                    }#}
{#                }#}
{#            })#}

{#            let nbpersons = document.querySelector("#nbpersons")#}
{#            let nbpersonsGraph = new Chart(nbpersons, {#}
{#                type: "pie",#}
{#                data: {#}
{#                    labels: ["Nombre total", "Nombre validée"],#}
{#                    #}{#labels: {{ statusnom|raw }},#}
{#                    datasets: [{#}
{#                        label: "Répartition des catégories",#}
{#                        // data: [1,2],#}
{#                        data: {{ nbpersons|raw }},#}
{#                        #}{#backgroundColor: {{ categColor|raw }}#}
{#                        backgroundColor: ["#6a5acd7a", "#f1cbc8", "#bfd0bd"]#}
{#                    }]#}
{#                }#}
{#            })#}

{#            let testeursproduct = document.querySelector("#testeursproduct")#}
{#            let testeursproductGraph = new Chart(testeursproduct, {#}
{#                type: "pie",#}
{#                data: {#}
{#                    labels: ["Nombre total", "Nombre validée"],#}
{#                    #}{#labels: {{ statusnom|raw }},#}
{#                    datasets: [{#}
{#                        label: "Répartition des catégories",#}
{#                        // data: [1,2],#}
{#                        data: {{ nbpersons|raw }},#}
{#                        #}{#backgroundColor: {{ categColor|raw }}#}
{#                        backgroundColor: ["#6a5acd7a", "#f1cbc8", "#bfd0bd"]#}
{#                    }]#}
{#                }#}
{#            })#}
{#        </script>#}

{#    {% endblock %}#}
{% endblock %}